<?php
session_start(); // Make sure this is at the very top of your file!

$registration_success_message = '';
if (isset($_SESSION['registration_success'])) {
    $registration_success_message = $_SESSION['registration_success'];
    unset($_SESSION['registration_success']); // Clear the message after reading it
}
?>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Landing Page</title>
    <style>
        /* --- CSS for the Notification Bar --- */
        .notification-bar {
            display: none; /* Hidden by default */
            position: fixed; /* Stays in place when scrolling */
            top: 20px; /* 20px from the top of the page */
            left: 50%; /* Start at the horizontal center */
            transform: translateX(-50%); /* Shift left by half its width to truly center */
            padding: 10px 20px;
            background-color: #4CAF50; /* Green background for success */
            color: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            z-index: 1000; /* Ensure it's on top of other content */
            font-family: sans-serif; /* A simple, common font */
            font-size: 1.1em;
            white-space: nowrap; /* Keep message on one line if possible */
        }

        /* Optional: Basic styling for the rest of your page content */
        body {
            margin: 0;
            padding-top: 80px; /* Add padding to prevent content from hiding behind the notification bar */
            font-family: Arial, sans-serif;
            text-align: center;
        }
        h1 {
            margin-top: 50px;
        }
    </style>
</head>
<body>

    <div id="registrationSuccessMessage" class="notification-bar">
        </div>

    <h1>Welcome to Your Project!</h1>
    <p>This is your main landing page content.</p>
    <p>You can see the registration success message pop up at the top.</p>

    <p><a href="register.php">Register Again</a></p>
    <p><a href="login.php">Login Here</a></p>

<!-- 
    <script type="text/javascript">
        // Get a reference to the notification bar div
        const notificationBar = document.getElementById('registrationSuccessMessage');

        // This PHP block will run on the server and insert the message into the JavaScript
        <?php if (!empty($registration_success_message)): ?>
            // Set the message text
            notificationBar.textContent = '<?php echo htmlspecialchars($registration_success_message, ENT_QUOTES, 'UTF-8'); ?>';
            // Display the bar
            notificationBar.style.display = 'block';

            // Automatically hide the bar after 3 seconds (3000 milliseconds)
            setTimeout(function() {
                notificationBar.style.display = 'none';
            }, 3000); // Adjust time as needed
        <?php endif; ?>
    </script> -->

</body>
</html>